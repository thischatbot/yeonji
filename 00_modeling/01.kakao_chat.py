import random
import pandas as pd

kakao_chat = [
    ["연지", "2025-07-01 10:31", "자고 있어?"],
    ["연지", "2025-07-01 10:50", "답장 좀 해줘 제발"],
    ["연지", "2025-07-01 11:02", "혹시 나 차단했어?"],
    ["연지", "2025-07-01 11:05", "진짜 너무하네"],
    ["전남친", "2025-07-01 11:07", "알바중임"],
    ["연지", "2025-07-01 11:08", "그냥 한마디만 해주면 안돼??"],
    ["전남친", "2025-07-01 11:12", "그만하자 우리"],
    ["연지", "2025-07-01 11:20", "뭘 그만해... 왜 나 버려?"],
    ["연지", "2025-07-01 11:21", "어제는 그렇게 말 안했잖아"],
    ["연지", "2025-07-01 11:25", "(보이스톡 해요)"],
    ["연지", "2025-07-01 12:00", "(보이스톡 응답없음)"],
    ["연지", "2025-07-01 12:15", "나 지금 너무 불안해"],
    ["전남친", "2025-07-01 12:30", "좀 쉬어라"],
    ["연지", "2025-07-01 13:00", "왜 나 버려..."],
    ["연지", "2025-07-01 13:15", "나 진짜 힘들어. 너무 불안해"],
    ["연지", "2025-07-01 14:00", "(보이스톡 해요)"],
    ["연지", "2025-07-01 14:00", "(보이스톡 응답없음)"],
    ["연지", "2025-07-01 14:15", "너 내가 싫어?"],
    ["연지", "2025-07-01 15:00", "왜 자꾸 나를 버려"],
    ["전남친", "2025-07-01 15:10", "피곤하다 좀"],
    ["연지", "2025-07-01 15:12", "진짜 너무하네..."],
    ["연지", "2025-07-01 15:13", "여자 만나?"],
    ["연지", "2025-07-01 16:00", "어떻게 사람이 이렇게까지 하냐"],
    ["연지", "2025-07-01 17:00", "제발"],
    ["연지", "2025-07-01 18:00", "어?..."],
    ["연지", "2025-07-01 18:01", "나 버리지 마..."],
    ["연지", "2025-07-01 19:00", "나 너무 불안해"],
    ["연지", "2025-07-01 19:30", "이렇게 혼자서 무너지는 거 같아"],
    ["연지", "2025-07-01 20:00", "진짜 죽고싶어"],
    ["전남친", "2025-07-01 20:15", "이러지 마"],
    ["연지", "2025-07-01 20:30", "그럼 좀 말이라도 해줘"],
    ["연지", "2025-07-01 20:45", "답장 기다리는 게 제일 고통스러워"],
    ["연지", "2025-07-01 21:00", "(보이스톡 해요)"],
    ["연지", "2025-07-01 21:01", "(보이스톡 응답없음)"],
    ["연지", "2025-07-01 21:05", "왜 나 버려?"],
    ["연지", "2025-07-01 21:10", "이렇게 끝내면 안 되잖아"],
    ["전남친", "2025-07-01 21:30", "시간 지나면 괜찮아져"],
    ["연지", "2025-07-01 21:45", "왜 그런말 해"],
    ["연지", "2025-07-01 22:00", "이렇게 무시당하니까 사람이 이상해져"],
    ["연지", "2025-07-01 22:15", "나 스스로가 너무 초라해 보여"],
    ["연지", "2025-07-01 22:30", "그냥 사랑받고 싶었던 거야"],
    ["연지", "2025-07-01 22:45", "나 버리지 마"],
    ["연지", "2025-07-01 23:00", "이 개쓰레기야"]
]

# 기존 대사에서 '연지' 발화 수집
original_texts = [item[2] for item in kakao_chat if item[0] == "연지"]

# 단어 단위 키워드 뽑기
keywords = list(set(word for line in original_texts
                    for word in line.replace("...", "").replace("?", "").split()
                    if len(word) > 1))

# 변형 템플릿 리스트
variation_templates = [
    "혹시 {}?",
    "{} 말이라도 해줘",
    "{} 너무한 거 아니야?",
    "{} 왜 그래",
    "정말 {}?",
    "{} 나 너무 괴로워",
    "{} 제발",
    "너 진짜 {} 했잖아",
    "내가 그렇게 {} 했는데",
    "진심으로 {} 했던 건데",
    "{} 하지 말지 그랬어",
    "내가 뭘 그렇게 {} 했다고"
]

generated_data = []
for i in range(1000):
    speaker = "전남친" if i % 4 == 0 else "연지"
    timestamp = f"2025-07-01 {10 + (i//60):02}:{i%60:02}"
    if speaker == "전남친":
        text = random.choice([
            "알았어", "그만하자", "좀 쉬어", "나중에 얘기하자",
            "피곤하다", "그냥 그렇게 됐어"
        ])
    else:
        keyword = random.choice(keywords)
        template = random.choice(variation_templates)
        text = template.format(keyword)
    generated_data.append([speaker, timestamp, text])

df = pd.DataFrame(generated_data, columns=["speaker", "timestamp", "text"])
df.to_csv("kakao_chat.csv", index=False)